-- üî• RESET RAYFIELD (OBRIGAT√ìRIO PRO XENO)
pcall(function()
    if getgenv().Rayfield then
        getgenv().Rayfield:Destroy()
        getgenv().Rayfield = nil
    end
end)

-- üì¶ LOAD RAYFIELD
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()
getgenv().Rayfield = Rayfield

-- ü™ü JANELA
local Window = Rayfield:CreateWindow({
   Name = "Autista Hub | RP Police",
   Icon = 0,
   LoadingTitle = "Autista Hub",
   LoadingSubtitle = "by Nightzx",
   ShowText = "Rayfield",
   Theme = "Default",
   ToggleUIKeybind = "K",

   ConfigurationSaving = {
      Enabled = false
   },

   -- üîê KEY
   KeySystem = true,
   KeySettings = {
      Title = "Autista Hub",
      Subtitle = "Digite a Key",
      Note = "Acesso restrito",
      FileName = "AutistaHub",
      SaveKey = false,
      GrabKeyFromSite = false,
      Key = {"Autistahub2026"}
   }
})

-- üìÅ TABS
local PoliceTab = Window:CreateTab("üëÆ Pol√≠cia", 4483362458)
local InfoTab = Window:CreateTab("‚ÑπÔ∏è Info", 4483362458)

----------------------------------------------------------------
-- üìú LISTA DE PROMPTS (EXEMPLO)
----------------------------------------------------------------
local Prompts = {
    {nome = "Abordagem Padr√£o", texto = "Senhor, encoste o ve√≠culo e mantenha as m√£os vis√≠veis"},
    {nome = "Revista", texto = "O senhor est√° sendo revistado por medida de seguran√ßa"},
    {nome = "Pris√£o", texto = "O senhor est√° preso e tem o direito de permanecer em sil√™ncio"},
    {nome = "Documentos", texto = "Documentos do ve√≠culo e CNH, por favor"},
    {nome = "Advert√™ncia", texto = "Dessa vez ser√° apenas uma advert√™ncia verbal"},
}

----------------------------------------------------------------
-- üîé CAIXA DE PESQUISA
----------------------------------------------------------------
PoliceTab:CreateInput({
   Name = "Pesquisar Prompt",
   PlaceholderText = "Digite (ex: abordagem, pris√£o...)",
   RemoveTextAfterFocusLost = false,
   Callback = function(text)
      for _, v in pairs(Prompts) do
         if string.find(string.lower(v.nome), string.lower(text)) then
            Rayfield:Notify({
               Title = v.nome,
               Content = v.texto,
               Duration = 5
            })
         end
      end
   end
})

----------------------------------------------------------------
-- üìå BOT√ïES DE PROMPTS
----------------------------------------------------------------
for _, prompt in pairs(Prompts) do
    PoliceTab:CreateButton({
        Name = prompt.nome,
        Callback = function()
            setclipboard(prompt.texto)
            Rayfield:Notify({
                Title = "Copiado",
                Content = "Prompt copiado para a √°rea de transfer√™ncia",
                Duration = 3
            })
        end
    })
end

----------------------------------------------------------------
-- ‚ÑπÔ∏è INFO
----------------------------------------------------------------
InfoTab:CreateParagraph({
   Title = "Autista Hub",
   Content = "Hub de prompts RP para policiais.\n\n‚Ä¢ Clique para copiar\n‚Ä¢ Cole no chat\n‚Ä¢ Use no RP"
})
-- üî• RESET RAYFIELD (OBRIGAT√ìRIO PRO XENO)
pcall(function()
    if getgenv().Rayfield then
        getgenv().Rayfield:Destroy()
        getgenv().Rayfield = nil
    end
end)

-- üì¶ LOAD RAYFIELD
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()
getgenv().Rayfield = Rayfield

-- ü™ü JANELA
local Window = Rayfield:CreateWindow({
   Name = "Autista Hub | RP Police",
   Icon = 0,
   LoadingTitle = "Autista Hub",
   LoadingSubtitle = "by Nightzx",
   ShowText = "Rayfield",
   Theme = "Default",
   ToggleUIKeybind = "K",

   ConfigurationSaving = {
      Enabled = false
   },

   -- üîê KEY
   KeySystem = true,
   KeySettings = {
      Title = "Autista Hub",
      Subtitle = "Digite a Key",
      Note = "Acesso restrito",
      FileName = "AutistaHub",
      SaveKey = false,
      GrabKeyFromSite = false,
      Key = {"Autistahub2026"}
   }
})

-- üìÅ TABS
local PoliceTab = Window:CreateTab("üëÆ Pol√≠cia", 4483362458)
local InfoTab = Window:CreateTab("‚ÑπÔ∏è Info", 4483362458)

----------------------------------------------------------------
-- üìú LISTA DE PROMPTS (EXEMPLO)
----------------------------------------------------------------
local Prompts = {
    {nome = "Abordagem Padr√£o", texto = "Senhor, encoste o ve√≠culo e mantenha as m√£os vis√≠veis"},
    {nome = "Revista", texto = "O senhor est√° sendo revistado por medida de seguran√ßa"},
    {nome = "Pris√£o", texto = "O senhor est√° preso e tem o direito de permanecer em sil√™ncio"},
    {nome = "Documentos", texto = "Documentos do ve√≠culo e CNH, por favor"},
    {nome = "Advert√™ncia", texto = "Dessa vez ser√° apenas uma advert√™ncia verbal"},
}

----------------------------------------------------------------
-- üîé CAIXA DE PESQUISA
----------------------------------------------------------------
PoliceTab:CreateInput({
   Name = "Pesquisar Prompt",
   PlaceholderText = "Digite (ex: abordagem, pris√£o...)",
   RemoveTextAfterFocusLost = false,
   Callback = function(text)
      for _, v in pairs(Prompts) do
         if string.find(string.lower(v.nome), string.lower(text)) then
            Rayfield:Notify({
               Title = v.nome,
               Content = v.texto,
               Duration = 5
            })
         end
      end
   end
})

----------------------------------------------------------------
-- üìå BOT√ïES DE PROMPTS
----------------------------------------------------------------
for _, prompt in pairs(Prompts) do
    PoliceTab:CreateButton({
        Name = prompt.nome,
        Callback = function()
            setclipboard(prompt.texto)
            Rayfield:Notify({
                Title = "Copiado",
                Content = "Prompt copiado para a √°rea de transfer√™ncia",
                Duration = 3
            })
        end
    })
end

----------------------------------------------------------------
-- ‚ÑπÔ∏è INFO
----------------------------------------------------------------
InfoTab:CreateParagraph({
   Title = "Autista Hub",
   Content = "Hub de prompts RP para policiais.\n\n‚Ä¢ Clique para copiar\n‚Ä¢ Cole no chat\n‚Ä¢ Use no RP"
})
